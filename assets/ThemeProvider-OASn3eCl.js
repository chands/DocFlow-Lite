import{r as t,l as h}from"./chunk-HA7DTUK3-Cfv0O0ru.js";const l={theme:"system",setTheme:()=>null},m=t.createContext(l),n=typeof window<"u";function w({children:s,defaultTheme:c="system",storageKey:r="docflow-theme",...a}){const[o,i]=t.useState(c);t.useEffect(()=>{if(n){const e=localStorage.getItem(r);e&&i(e)}},[r]),t.useEffect(()=>{if(!n)return;const e=window.document.documentElement;if(e.classList.remove("light","dark"),o==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(u);return}e.classList.add(o)},[o]);const d={theme:o,setTheme:e=>{n&&localStorage.setItem(r,e),i(e)}};return h.jsx(m.Provider,{...a,value:d,children:s})}const T=()=>{const s=t.useContext(m);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s};export{w as T,T as u};
